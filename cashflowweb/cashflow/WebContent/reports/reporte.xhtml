<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<!-- Vista a la que llegaremos cuando en el menú se presione la opción "Movimientos" -->
<!-- Contiene los Saldos consolidados de Cuenta,
	los totales de Ingresos, Gastos y Saldo,
	el formulario para un nuevo movimiento
	y el listado de movimientos -->
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core">
<h:head>


	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<title>Highcharts Example</title>

	<script type="text/javascript" src="js/jquery.min.js"></script>
	<style type="text/css">
${
demo


.css


}
</style>


	<script type="text/javascript">
		
	 $(function () {
         Highcharts.chart('container', {//container = div id si
             title: {
                 text:  'Reporte de #{reportsBean.accountSelected.cuenNombre}',
                 x: -20 //center
             },
             subtitle: {
                 text: 'Todos los conceptos',
                 x: -20
             },
             xAxis: {
                 categories: #{reportsBean.xValues}
             },
             yAxis: {
                 title: {
                     text: '$'
                 },
                 plotLines: [{
                         value: 0,
                         width: 1,
                         color: '#808080'
                     }]
             },
             tooltip: {
                 valueSuffix: '$'
             },
             legend: {
                 layout: 'vertical',
                 align: 'right',
                 verticalAlign: 'middle',
                 borderWidth: 0
             },
             series: #{reportsBean.data}
         });
     });

	
	</script>

</h:head>

<h:body>

	<div class="vd_content-section clearfix">

		<div class="row">
			<div class="col-md-12 mgbt-md-20 mgbt-lg-0">
				<div class="panel vd_interactive-widget light-widget widget">
					<div class="panel-body-list">

						<div class="pd-20">
							<h5 class="mgbt-xs-20 mgtp-20">
								<span class="menu-icon append-icon"><i class="icon-graph"></i></span>
								<strong>Reporte General de Cuentas</strong>
							</h5>
							
							<div class="form-group">
								<label class="col-sm-1 control-label">Cuenta</label>
								<div class="col-sm-7 controls">


									<h:selectOneMenu class="width-30" id ="selectAccount"
										value="#{reportsBean.accountSelected.cuenId}">
										<f:selectItems value="#{movimientosBean.cuentasItems}" />
									</h:selectOneMenu>

								</div>
							</div>
							
							<div class="form-group form-actions">
								<div class="col-sm-4"></div>
								<div class="col-sm-7">
									
									
									 
									<h:commandButton action="#{reportsBean.consultarReporteGeneral}" value="Consultar" styleClass="btn vd_btn vd_bg-green vd_white">
											<f:ajax render="@form" execute="selectAccount"></f:ajax>
									</h:commandButton>

								</div>
							</div>
							
							
							<div id="container"
								style="min-width: 310px; height: 400px; margin: 0 auto"></div>
						</div>

					</div>
				</div>
				<!-- Panel Widget -->
			</div>
			<!--col-md-7 -->
		</div>


		<!-- Segunda Fila -->
		<div class="row">
			<div class="col-md-12">
				<ui:include src="/views/movimiento/nuevomovimiento.xhtml"></ui:include>
			</div>
		</div>
		<!-- Fin segunda fila -->

		<!-- Tercera fila -->
		<div class="row">
			<div class="col-md-12">
				<!-- listado de movimientos -->
				<ui:include src="/views/movimiento/movimientosList.xhtml"></ui:include>
			</div>
		</div>


	</div>



	<script src="js/highchart/highcharts.js"></script>
	<script src="js/highchart/exporting.js"></script>

</h:body>
</html>